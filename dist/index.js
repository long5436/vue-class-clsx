import{useCssModule as s}from"vue";import e from"just-typeof";const t={cssModuleName:"$style",directiveName:"v-class-module",functionName:"vclsx"};let a=[];function o({args:s=[]}={}){s.map((function(s){!function({value:s}){switch(e(s)){case"string":a.push(s);break;case"array":o({args:[...s]});break;case"object":{const e=function({value:s}){const e=[];for(const t in s)s[t]&&e.push(t);return e}({value:s});a=a.concat(e);break}case"number":break;case"function":a=[]}}({value:s})}))}function r({args:s=[]}={}){return a=[],o({args:[s]}),a}const{cssModuleName:c}=t;let n=[],i={};function l(...e){return i=c?s(c):s(),n=r({args:[e]}),n.map((s=>i[s]?i[s]:"")).join(" ").replace(/\\,/g," ").trim()}const{cssModuleName:u}=t;let m,p={};function f({el:s,rawClasses:e,props:t}){let a=e;"string"==typeof a&&(a=[a]),m=r({args:[a]});let o=function({rawClasses:s,moduleClasses:e}){return s.map((s=>e[s])).filter((s=>s))}({rawClasses:m,moduleClasses:p});if(t?.class){let s=t.class;"string"==typeof s&&(s=s.split(" ")),o=o.concat(s)}s.classList.remove(...s.classList),s.classList.add(...o)}const d={beforeMount(s,e,t){u&&(p=t?.dirs[0]?.instance?.$options?.__cssModules[u]||{},f({el:s,rawClasses:e.value,props:t.props}))},updated(s,e,t){u&&(p=t?.dirs[0]?.instance?.$options?.__cssModules[u],f({el:s,rawClasses:e.value,props:t.props}))}},v=s=>(function({cssModuleName:s,directiveName:e,functionName:a}){s?.trim()&&(t.cssModuleName=s),e?.trim()&&(t.directiveName=e.replace("v-","")),a?.trim()&&(t.functionName=a)}(s),{install(s){s.config.globalProperties[t.functionName]=l,s.directive(t.directiveName,d)}}),N=l;export{v as createVclsx,N as vclsxComponent};
